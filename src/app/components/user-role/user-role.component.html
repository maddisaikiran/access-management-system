<form [formGroup]="roleForm" (ngSubmit)="saveRoles()">
<mat-card>
    <mat-card-header>
        <h1>User Role access</h1>
    </mat-card-header>
    <mat-card-content>
        <mat-form-field>
            <mat-label>Select user Role</mat-label>
            <mat-select formControlName="userRole" (selectionChange)="roleChange($event)">
                @for(item of roleList; track item) {
                    <mat-option value="{{item.code}}">{{item.name}}</mat-option>
                }
            </mat-select>
        </mat-form-field>
        <mat-card>
            <mat-card-content>
                <table style="width:100%;" formArrayName="access">
                    <thead>
                        <tr>
                            <th>Menu name</th>
                            <th>Have View</th>
                            <th>Have Add</th>
                            <th>Have Edit</th>
                            <th>Have Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of getRows.controls;let i=index" [formGroupName]="i">
                            <td>{{item.value.menuCode}}</td>
                            <td>
                                <mat-checkbox formControlName="haveView"></mat-checkbox>
                            </td>
                            <td>
                                <mat-checkbox formControlName="haveAdd"></mat-checkbox>
                            </td>
                            <td>
                                <mat-checkbox formControlName="haveEdit"></mat-checkbox>
                            </td>
                            <td>
                                <mat-checkbox formControlName="haveDelete"></mat-checkbox>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </mat-card-content>
        </mat-card>
    </mat-card-content>
    <mat-card-actions>
        <div class="div-100">
            <button type="submit" mat-raised-button color="primary">Save</button>
        </div>
    </mat-card-actions>
</mat-card>
</form>
